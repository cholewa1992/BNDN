<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <link rel="stylesheet" href="~/Content/pure.css" />
    <link rel="stylesheet" href="~/Content/bootstrap.min.css" />
    <link rel="stylesheet" href="~/Content/bndn_styles.css" />
    <title>@ViewBag.Title</title>
    @Scripts.Render("~/bundles/modernizr")
    @model dynamic

    <script>
        $(".alert").alert();
    </script>
</head>
    <body>
        <div id="container">
            <header>
                <div class="pure-menu pure-menu-open pure-menu-horizontal to-left">
                    <a href="~/" class="pure-menu-heading"><img class="logo-header" src="~/Content/img/logo.png"/></a>
                    <ul>
                        <li class="pure-menu-selected"><a href="~/">Home</a></li>
                        <li><a href="~/Movies">Movies</a></li>
                        <li><a href="~/Books">Books</a></li>
                        <li><a href="~/Music">Music</a></li>
                    </ul>
                </div> 

                <nav>
			        <ul>
				        <li>
                            <div class="search">
                                <form role="form" action="~/Search/SearchMediaItems" method="GET">
                                    <input type="hidden" name="from" value="1" />
                                    <input type="hidden" name="to" value="10" />
                                    <input type="text" class="form-control" name="searchKey" placeholder="Search">
                                    <button class="search-button" type="submit"></button>
                                </form>
                            </div>
                        </li>
                        @if (Request.Cookies["user"] != null) { 
                            <li><button class="btn-success pure-button" onclick="window.location.href='/Account/Details/@Request.Cookies["user"].Values["id"]'">@Request.Cookies["user"].Values["username"]'s Account</button></li>
                            <li><button class="btn-danger pure-button" onclick="window.location.href='/Login/Logout'">Logout</button></li>
                        }
                        else
                        {
                            <li><button class="button-art pure-button" onclick="window.location.href='/Login'">Login</button></li>
                            <li><button class="button-art pure-button" onclick="window.location.href='/Account/Register'">Create Account</button></li>
                        }
			        </ul>
		        </nav>

                @if (Request.Url.PathAndQuery == "/")
                {
                    // Maybe a jumbo?
                }
            </header>

                <div class="content-wrapper">
                    @if (TempData["error"] != null)
                    {
                        <div class="alert alert-danger"><strong>Error:</strong> 
                            @TempData["error"]
                            <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
                        </div>
                        
                    }
                    else if (TempData["success"] != null)
                    {
                        <div class="alert alert-success"><strong>Success:</strong> 
                            @TempData["success"]
                            <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
                        </div>
                    }

                    @RenderBody()
                </div>


                <!--<footer></footer>-->
            </div>
        
        @Scripts.Render("~/bundles/jquery")
        @Scripts.Render("~/Content/bootstrap.min.js")
        @RenderSection("scripts", required: false)
    </body>
</html>
